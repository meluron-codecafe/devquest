<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>DevQuest</title>
<style>
    :root {
        --bg-color: #121212;
        --text-color: #e0e0e0;
        --container-bg: #1e1e1e;
        --border-color: #555;
        --hover-bg: #2a2a2a;
        --link-color: #4ea3ff;
        --topic-link-color: #aad4ff;
        --table-header-bg: #2b2b2b;
        --quote-color: #bbb;
        --footer-color: #999;
        
        /* Typography scale */
        --font-size-xs: 12px;
        --font-size-sm: 13px;
        --font-size-base: 14px;
        --font-size-lg: 16px;
        --font-size-xl: 18px;
        
        /* Spacing scale */
        --space-xs: 4px;
        --space-sm: 8px;
        --space-md: 12px;
        --space-lg: 10px;
        --space-xl: 20px;
        --space-2xl: 24px;
        
        /* Border radius scale */
        --radius-sm: 4px;
        --radius-md: 6px;
        --radius-lg: 8px;
        --radius-xl: 12px;
    }
    
    body.light-theme {
        --bg-color: #f2f2f2;
        --text-color: #333;
        --container-bg: #fff;
        --border-color: #ccc;
        --hover-bg: #fafafa;
        --link-color: #0066cc;
        --topic-link-color: #0066cc;
        --table-header-bg: #f5f5f5;
        --quote-color: #777;
        --footer-color: #777;
    }

    * {
        box-sizing: border-box;
    }

    body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        font-size: var(--font-size-base);
        line-height: 1.5;
        background-color: var(--bg-color);
        color: var(--text-color);
        margin: 0;
        padding: var(--space-xl);
        transition: background-color 0.3s ease, color 0.3s ease;
    }
    
    .container {
        max-width: 900px;
        margin: 0 auto;
        background: var(--container-bg);
        border: 1px solid var(--border-color);
        border-radius: var(--radius-lg);
        padding: var(--space-2xl);
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        position: relative;
        transition: background 0.3s ease, border 0.3s ease;
    }
    
    .header {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        margin-bottom: var(--space-2xl);
        position: relative;
        width: 100%;
        padding-top: 15px;
    }
    
    .logo {
        max-width: 140px;
        height: auto;
        display: block;
        transition: opacity 0.3s ease;
        margin-top: -23px;
    }

    @keyframes fadeIn {
        from { 
            opacity: 0; 
            transform: translateX(-50%) translateY(-5px); 
        }
        to { 
            opacity: 1; 
            transform: translateX(-50%) translateY(0); 
        }
    }

    /* ======= BUTTON CONTAINER ======= */
    .button-container {
        position: absolute;
        top: -15px;
        right: -15px;
        background: rgba(45, 45, 45, 0.95);
        border: 2px solid var(--border-color);
        border-radius: var(--radius-xl);
        padding: 2px;
        display: flex;
        z-index: 1000;
        backdrop-filter: blur(10px);
        box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        transition: all 0.3s ease;
        align-items: center;
    }

    /* ======= SEARCH FUNCTIONALITY ======= */
    .search-container {
        position: relative;
        display: flex;
        align-items: center;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        min-width: 40px;
    }

    /* When search is expanded, extend the button container visually */
    .button-container {
        position: absolute;
        top: -15px;
        right: -15px;
        background: rgba(45, 45, 45, 0.95);
        border: 2px solid var(--border-color);
        border-radius: var(--radius-xl);
        padding: 2px;
        display: flex;
        z-index: 1000;
        backdrop-filter: blur(10px);
        box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        align-items: center;
    }

    .button-container.search-expanded {
        padding-left: 240px;
    }

    .search-btn {
        background: transparent !important;
        color: var(--text-color);
        border: none !important;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: var(--font-size-lg);
        transition: all 0.3s ease;
        text-decoration: none;
        flex-shrink: 0;
        z-index: 1002;
        position: relative;
    }

    .search-btn:hover {
        background: rgba(255, 255, 255, 0.1) !important;
        color: var(--text-color) !important;
        text-decoration: none !important;
    }

    .search-btn.active {
        background: rgba(255, 255, 255, 0.1) !important;
    }

    .search-input-container {
        position: absolute;
        right: 2px;
        top: 2px;
        height: 36px;
        width: 36px;
        overflow: visible;
        transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1), padding 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        background: transparent;
        border-radius: calc(var(--radius-xl) - 2px);
        display: flex;
        align-items: center;
        z-index: 1001;
        border: none;
    }

    .search-input-container.expanded {
        width: 270px;
        padding-left: 8px;
        padding-right: 44px;
    }

    .search-input {
        width: 100%;
        height: 32px;
        background: transparent;
        border: none;
        outline: none;
        color: var(--text-color);
        font-size: var(--font-size-sm);
        font-family: inherit;
        padding: 0 0px;
        opacity: 0;
        transition: opacity 0.3s ease 0.1s;
        border-radius: 0;
    }

    .search-input-container.expanded .search-input {
        opacity: 1;
    }

    .search-input::placeholder {
        color: rgba(224, 224, 224, 0.5);
    }

    .search-input:focus {
        outline: none;
        box-shadow: none;
        background: transparent;
        border: none;
    }

    /* Light theme search styles */
    body.light-theme .button-container {
        background: rgba(255, 255, 255, 0.95);
        border-color: var(--border-color);
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }

    body.light-theme .search-input::placeholder {
        color: rgba(51, 51, 51, 0.5);
    }

    body.light-theme .search-btn:hover {
        background: rgba(0, 0, 0, 0.05) !important;
    }
    
    /* ======= THEME TOGGLE BUTTON STYLES ======= */
    .theme-toggle-btn {
        background: transparent;
        border: none;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: var(--font-size-xl);
        transition: all 0.3s ease;
        color: var(--text-color);
        position: relative;
        overflow: hidden;
    }

    .theme-toggle-btn:hover {
        background: rgba(255, 255, 255, 0.1);
    }

    /* Theme icon container for smooth transitions */
    .theme-icon {
        position: absolute;
        opacity: 0;
        transform: scale(0.5) rotate(180deg);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        display: flex;
        align-items: center;
        justify-content: center;
        width: 24px;
        height: 24px;
    }

    .theme-icon.active {
        opacity: 1;
        transform: scale(1) rotate(0deg);
    }

    .theme-icon svg {
        width: 20px;
        height: 20px;
        stroke: currentColor;
        fill: none;
        transition: all 0.2s ease;
    }

    .github-btn, .about-btn {
        background: transparent !important;
        color: var(--text-color);
        border: none !important;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: var(--font-size-lg);
        transition: all 0.3s ease;
        text-decoration: none;
    }

    .github-btn:hover, .about-btn:hover {
        background: rgba(255, 255, 255, 0.1) !important;
        color: var(--text-color) !important;
        text-decoration: none !important;
    }

    /* Light theme button styles */
    body.light-theme .button-container {
        background: rgba(255, 255, 255, 0.95);
        border-color: var(--border-color);
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }

    body.light-theme .theme-toggle-btn:hover,
    body.light-theme .github-btn:hover,
    body.light-theme .about-btn:hover {
        background: rgba(0, 0, 0, 0.05);
    }
    
    input {
        padding: var(--space-sm) var(--space-md);
        font-size: var(--font-size-base);
        font-family: inherit;
        border: 1px solid var(--border-color);
        border-radius: var(--radius-sm);
        background: var(--container-bg);
        color: var(--text-color);
        transition: all 0.3s ease;
    }
    
    input:focus {
        outline: none;
        border-color: var(--link-color);
        box-shadow: 0 0 0 2px rgba(78, 163, 255, 0.2);
    }
    
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: var(--space-md);
        border-radius: var(--radius-md);
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    th, td {
        border-bottom: 1px solid var(--border-color);
        padding: var(--space-md) var(--space-lg);
        text-align: left;
        font-size: var(--font-size-base);
        line-height: 1.4;
    }
    
    th {
        background-color: var(--table-header-bg);
        color: var(--text-color);
        font-weight: 600;
        font-size: var(--font-size-sm);
        text-transform: uppercase;
        letter-spacing: 0.5px;
        position: relative;
    }
    
    tr:hover {
        background-color: var(--hover-bg);
    }
    
    tr:last-child td {
        border-bottom: none;
    }
    
    a {
        color: var(--link-color);
        text-decoration: none;
        transition: color 0.2s ease;
    }
    
    a:hover {
        text-decoration: underline;
        color: #66b3ff;
    }
    
    /* Category filter icon styles */
    .category-header {
        display: flex;
        align-items: center;
        gap: var(--space-sm);
    }
    
    .filter-icon {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        border: 1px solid #fd8a09;
        background: transparent;
        color: #fd8a09;
        cursor: pointer;
        transition: all 0.2s ease;
        padding: 2px;
    }
    
    .filter-icon:hover {
        background: #fd8a09;
        color: white;
    }

    .filter-icon.active {
        background: #fd8a09;
        color: white;
    }

    .filter-icon svg {
        width: 12px;
        height: 12px;
        stroke: currentColor;
        fill: none;
    }

    /* Category filter dropdown */
    .category-filter-dropdown {
        position: absolute;
        background: var(--container-bg);
        border: 2px solid var(--border-color);
        border-radius: var(--radius-md);
        box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        z-index: 1000;
        max-width: 200px;
        font-size: var(--font-size-sm);
        line-height: 1.5;
        display: none;
        backdrop-filter: blur(10px);
    }
    
    .category-filter-dropdown.visible {
        display: block;
        animation: fadeInUp 0.3s ease;
    }

    .filter-option {
        padding: var(--space-sm) var(--space-md);
        cursor: pointer;
        transition: background-color 0.2s ease;
        border-bottom: 1px solid var(--border-color);
    }

    .filter-option:last-child {
        border-bottom: none;
    }

    .filter-option:hover {
        background-color: var(--hover-bg);
    }

    .filter-option.active {
        background-color: var(--link-color);
        color: white;
    }

    /* No results message */
    .no-results {
        text-align: center;
        padding: var(--space-2xl);
        color: var(--quote-color);
        font-style: italic;
        border: 2px dashed var(--border-color);
        border-radius: var(--radius-lg);
        margin-top: var(--space-lg);
    }

    .no-results .request-link {
        color: var(--quote-color);
        text-decoration: underline;
        font-weight: normal;
        margin-top: var(--space-md);
        display: inline-block;
        transition: color 0.3s ease;
        cursor: pointer;
        font-size: var(--font-size-sm);
    }

    .no-results .request-link:hover {
        color: #fd8a09;
        text-decoration: underline;
    }

    /* About modal styles */
    .about-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 2000;
        backdrop-filter: blur(0px);
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
    }

    .about-modal.visible {
        background: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(5px);
        opacity: 1;
        visibility: visible;
    }

    .about-modal-content {
        background: var(--container-bg);
        border: 2px solid var(--border-color);
        border-radius: var(--radius-xl);
        padding: var(--space-2xl);
        max-width: 600px;
        width: 90%;
        max-height: 80vh;
        overflow-y: auto;
        position: relative;
        box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        transform: scale(0.95);
        opacity: 0;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .about-modal.visible .about-modal-content {
        transform: scale(1);
        opacity: 1;
    }

    .about-modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: var(--space-xl);
        padding-bottom: var(--space-lg);
        border-bottom: 2px solid var(--border-color);
    }

    .about-modal-title {
        font-size: var(--font-size-xl);
        font-weight: 600;
        color: var(--link-color);
        margin: 0;
        display: flex;
        align-items: center;
        gap: var(--space-md);
    }

    .about-modal-close {
        background: transparent;
        border: none;
        font-size: 24px;
        cursor: pointer;
        color: var(--text-color);
        width: 32px;
        height: 32px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s ease;
    }

    .about-modal-close:hover {
        background: var(--hover-bg);
    }

    .about-modal-body {
        line-height: 1.6;
        color: var(--text-color);
    }

    .about-section {
        margin-bottom: var(--space-xl);
    }

    .about-section:last-child {
        margin-bottom: 0;
    }

    .about-section h3 {
        font-size: var(--font-size-lg);
        font-weight: 600;
        color: var(--link-color);
        margin: 0 0 var(--space-md) 0;
        display: flex;
        align-items: center;
        gap: var(--space-sm);
    }

    .about-section p {
        margin: 0 0 var(--space-md) 0;
        color: var(--text-color);
    }

    .about-section p:last-child {
        margin-bottom: 0;
    }

    .about-section ul {
        margin: var(--space-md) 0;
        padding-left: var(--space-xl);
    }

    .about-section li {
        margin-bottom: var(--space-sm);
        color: var(--text-color);
    }

    .about-highlight {
        color: var(--link-color);
        font-weight: 600;
    }

    .about-tech-stack {
        display: flex;
        flex-wrap: wrap;
        gap: var(--space-sm);
        margin: var(--space-md) 0;
    }

    .tech-tag {
        background: rgba(77, 163, 255, 0.1);
        border: 1px solid rgba(77, 163, 255, 0.3);
        color: var(--link-color);
        padding: var(--space-xs) var(--space-md);
        border-radius: var(--radius-sm);
        font-size: var(--font-size-sm);
        font-weight: 500;
    }

    body.light-theme .tech-tag {
        background: rgba(77, 163, 255, 0.05);
        border-color: rgba(77, 163, 255, 0.2);
    }

    /* Preview tooltip styles */
    .preview-tooltip {
        position: absolute;
        background: var(--container-bg);
        border: 2px solid var(--border-color);
        border-radius: var(--radius-lg);
        padding: var(--space-lg);
        box-shadow: 0 12px 35px rgba(0,0,0,0.25);
        z-index: 1001;
        max-width: 500px;
        font-size: var(--font-size-sm);
        line-height: 0.9;
        display: none;
        backdrop-filter: blur(10px);
    }
    
    .preview-tooltip.visible {
        display: block;
        animation: fadeInUp 0.3s ease;
    }
    
    @keyframes fadeInUp {
        from { 
            opacity: 0; 
            transform: translateY(10px);
        }
        to { 
            opacity: 1; 
            transform: translateY(0);
        }
    }
    
    .preview-tooltip .preview-title {
        font-weight: 600;
        color: var(--link-color);
        margin-bottom: var(--space-md);
        font-size: var(--font-size-base);
        border-bottom: 1px solid var(--border-color);
        padding-bottom: var(--space-sm);
        display: flex;
        align-items: center;
        gap: var(--space-sm);
    }

    .preview-tooltip .quest-icon {
        color: #fd8a09;
        font-size: var(--font-size-lg);
    }
    
    .preview-tooltip .quest-section {
        margin-bottom: var(--space-md);
    }
    
    .preview-tooltip .quest-section:last-child {
        margin-bottom: 0;
    }
    
    .preview-tooltip .quest-list {
        list-style: none;
        padding: 0;
        margin: var(--space-sm) 0;
    }

    .preview-tooltip .quest-item {
        background: rgba(78, 163, 255, 0.05);
        border-left: 3px solid var(--link-color);
        margin: var(--space-xs) 0;
        padding: var(--space-sm) var(--space-md);
        border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
        color: var(--text-color);
        font-size: var(--font-size-sm);
        line-height: 1.4;
    }

    body.light-theme .preview-tooltip .quest-item {
        background: rgba(78, 163, 255, 0.03);
    }

    .preview-tooltip .quest-item .item-number {
        color: var(--link-color);
        font-weight: 600;
        margin-right: var(--space-xs);
    }
    
    .preview-tooltip .quest-content img {
        max-width: 100%;
        height: auto;
        max-height: 200px;
        border-radius: var(--radius-sm);
        margin: var(--space-sm) 0;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        object-fit: contain;
    }
    
    .preview-tooltip .loading {
        text-align: center;
        color: var(--quote-color);
        font-style: italic;
        font-size: var(--font-size-sm);
    }
    
    .preview-tooltip .error {
        text-align: center;
        color: #f87171;
        font-style: italic;
        font-size: var(--font-size-sm);
    }
    
    .footer {
        text-align: center;
        margin-top: var(--space-2xl);
        padding-top: var(--space-xl);
        border-top: 1px solid var(--border-color);
        color: var(--footer-color);
        font-size: var(--font-size-base);
        line-height: 1.6;
    }
    
    .footer a {
        color: #fd8a09;
        text-decoration: none;
        font-weight: 500;
    }
    
    .footer a:hover {
        text-decoration: underline;
    }
    
    /* Table links (topics) */
    #tutorialTable a {
        color: var(--topic-link-color);
        text-decoration: none;
        font-weight: 500;
        transition: all 0.2s ease;
    }
    
    #tutorialTable a:hover {
        text-decoration: underline;
        color: #4ea3ff;
    }
    
    /* Category column styling */
    .category {
        font-weight: 600;
        font-size: var(--font-size-sm);
        letter-spacing: 0.5px;
    }
    
    /* Responsive design */
    @media (max-width: 768px) {
        body {
            padding: var(--space-md);
        }
        
        .container {
            padding: var(--space-lg);
        }
        
        .category-filter-dropdown {
            max-width: 250px;
        }
        
        .button-container {
            top: var(--space-md);
            right: var(--space-md);
            padding: var(--space-sm);
            flex-direction: column;
            gap: var(--space-xs);
        }

        .search-input-container.expanded {
            width: 200px;
            padding-right: 45px;
        }
        
        th, td {
            padding: var(--space-sm) var(--space-md);
            font-size: var(--font-size-sm);
        }

        .about-modal-content {
            width: 95%;
            padding: var(--space-lg);
            max-height: 90vh;
        }

        .about-modal-title {
            font-size: var(--font-size-lg);
        }

        .about-section h3 {
            font-size: var(--font-size-base);
        }

        .preview-tooltip {
            max-width: 350px;
        }
    }

    @media (max-width: 480px) {
        .theme-toggle-btn,
        .github-btn,
        .about-btn,
        .search-btn {
            width: 36px;
            height: 36px;
            font-size: var(--font-size-base);
        }

        .search-input-container.expanded {
            width: 180px;
            padding-right: 42px;
        }

        /* Ensure about icon renders properly on small screens */
        .about-btn svg {
            width: 18px;
            height: 18px;
            stroke-width: 2.5;
        }
    }
</style>
</head>
<body>
<div class="container">
    <!-- Header -->
    <div class="header">
        <img src="https://raw.githubusercontent.com/meluron/assets/refs/heads/main/logos/meluron-codecafe/DevQuest/icon_with_text.png" class="logo" id="logo">
        <div class="button-container">
            <!-- Search functionality -->
            <div class="search-container">
                <div class="search-input-container" id="searchInputContainer">
                    <input type="text" class="search-input" id="searchBox" placeholder="Search topics or keywords...">
                </div>
                <button id="searchBtn" class="search-btn" title="Search">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                </button>
            </div>
            
            <button id="aboutBtn" class="about-btn" title="About DevQuest">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <path d="M12 16v-4"></path>
                    <path d="M12 8h.01"></path>
                </svg>
            </button>
            <button id="themeToggle" class="theme-toggle-btn" title="Toggle theme">
                <div class="theme-icon dark">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                </div>
                <div class="theme-icon light">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </div>
            </button>
            <a href="https://github.com/meluron-codecafe/DevQuest" target="_blank" class="github-btn" title="View on GitHub">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
            </a>
        </div>
    </div>

    <table id="tutorialTable">
        <thead>
            <tr>
                <th>
                    <div class="category-header">
                        Category
                        <span class="filter-icon" id="categoryFilter" title="Filter by category">
                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polygon points="22,3 2,3 10,12.46 10,19 14,21 14,12.46"></polygon>
                            </svg>
                        </span>
                    </div>
                </th>
                <th>Topic</th>
                <th>Keywords</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <!-- No results message -->
    <div id="noResults" class="no-results" style="display: none;">
        <div>No tutorials found for your search.</div>
        <span id="requestTopicLink" class="request-link">Click here to request this topic</span>
    </div>

    <!-- About modal -->
    <div id="aboutModal" class="about-modal">
        <div class="about-modal-content">
            <div class="about-modal-header">
                <h2 class="about-modal-title">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M12 16v-4"></path>
                        <path d="M12 8h.01"></path>
                    </svg>
                    About DevQuest
                </h2>
                <button class="about-modal-close" id="aboutModalClose">&times;</button>
            </div>
            <div class="about-modal-body">
                <div class="about-section">
                    <h3>What is DevQuest?</h3>
                    <p>DevQuest offers <strong>Python</strong>, <strong>Audio DSP</strong>, and <strong>AI/ML</strong> tutorials through Jupyter notebooks.</p>
                </div>
                
                <div class="about-section">
                    <h3>Categories</h3>
                    <p><strong>EXP (Experiments):</strong> Conducting experiments, exploring ideas, and uncovering insights on various topics.</p>
                    <p><strong>P2C (Paper to Code):</strong> Breaking down research papers into practical, working implementations.</p>
                    <p><strong>M4CS (Math for CS):</strong> Exploring mathematical concepts that form the backbone of computer science.</p>
                    <p><strong>TOOL:</strong> Discovering and experimenting with tools to solve real-world problems efficiently.</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Category filter dropdown -->
    <div id="categoryFilterDropdown" class="category-filter-dropdown"></div>
    
    <!-- Preview tooltip for topics -->
    <div id="previewTooltip" class="preview-tooltip"></div>
    
</div>
    
<div class="footer">
    An initiative by <a href="https://github.com/meluron" target="_blank">meluron</a> to bring context to learning.
</div>

<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

<script>
    // Category colors for dark theme
    const categoryColorsDark = [
        "#fd8a09", // orange
        "#4ade80", // green
        "#60a5fa", // light blue
        "#f472b6", // pink
        "#facc15", // yellow
        "#a78bfa", // purple
        "#34d399", // teal
        "#f87171", // red
    ];
    
    // Category colors for light theme (darker, more contrast)
    const categoryColorsLight = [
        "#dc6803", // darker orange
        "#15803d", // darker green
        "#2563eb", // darker blue
        "#db2777", // darker pink
        "#ca8a04", // darker yellow
        "#7c3aed", // darker purple
        "#0f766e", // darker teal
        "#dc2626", // darker red
    ];
    
    let tutorials = [];
    let currentCategoryFilter = '';
    let searchExpanded = false;
    
    // Dynamic category-color map
    const categoryColorMap = {};
    
    function assignCategoryColors() {
        const uniqueCategories = [...new Set(tutorials.map(t => t.category))].sort();
        const colors = currentTheme === 'light' ? categoryColorsLight : categoryColorsDark;
        uniqueCategories.forEach((cat, idx) => {
            categoryColorMap[cat] = colors[idx % colors.length];
        });
    }
    
    // Search functionality - Initialize after DOM is loaded
    let searchBtn, searchInputContainer, searchBox;
    
    function initializeSearch() {
        searchBtn = document.getElementById("searchBtn");
        searchInputContainer = document.getElementById("searchInputContainer");
        searchBox = document.getElementById("searchBox");
        
        if (searchBtn && searchInputContainer && searchBox) {
            searchBtn.addEventListener("click", function(e) {
                e.preventDefault();
                e.stopPropagation();
                console.log("Search button clicked!"); // Debug log
                toggleSearch();
            });
            
            console.log("Search initialized successfully"); // Debug log
        } else {
            console.error("Search elements not found"); // Debug log
        }
    }
    
    function toggleSearch() {
        console.log("Toggle search called, current state:", searchExpanded); // Debug log
        searchExpanded = !searchExpanded;
        
        const buttonContainer = document.querySelector('.button-container');
        
        if (searchExpanded) {
            searchInputContainer.classList.add("expanded");
            searchBtn.classList.add("active");
            buttonContainer.classList.add("search-expanded");
            console.log("Search expanded"); // Debug log
            // Focus the input after animation completes
            setTimeout(() => {
                searchBox.focus();
            }, 300);
        } else {
            searchInputContainer.classList.remove("expanded");
            searchBtn.classList.remove("active");
            buttonContainer.classList.remove("search-expanded");
            searchBox.blur();
            console.log("Search collapsed"); // Debug log
        }
    }
    
    // Close search when clicking outside
    document.addEventListener("click", (e) => {
        if (searchBtn && searchInputContainer && 
            !searchBtn.contains(e.target) && !searchInputContainer.contains(e.target)) {
            if (searchExpanded) {
                searchExpanded = false;
                searchInputContainer.classList.remove("expanded");
                searchBtn.classList.remove("active");
                document.querySelector('.button-container').classList.remove("search-expanded");
            }
        }
    });
    
    // Handle escape key to close search
    document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && searchExpanded) {
            toggleSearch();
        }
    });
    
    // Initialize search after DOM is loaded
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializeSearch);
    } else {
        initializeSearch();
    }
    
    // Theme management - only dark and light
    let currentTheme = 'dark'; // Will be set based on system preference
    
    const themeToggle = document.getElementById("themeToggle");
    const themeIcons = {
        dark: document.querySelector(".theme-icon.dark"),
        light: document.querySelector(".theme-icon.light")
    };
    
    // Check for system preference
    function getSystemTheme() {
        return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    }
    
    // Apply theme to DOM
    function applyTheme(theme) {
        // Remove all theme classes
        document.body.classList.remove('light-theme', 'dark-theme');
        
        // Apply the theme class
        if (theme === 'light') {
            document.body.classList.add('light-theme');
        } else {
            document.body.classList.add('dark-theme');
        }
    }
    
    // Update theme toggle UI
    function updateThemeToggle() {
        // Remove active class from all icons
        Object.keys(themeIcons).forEach(function(key) {
            themeIcons[key].classList.remove('active');
        });
        
        // Add active class to current theme icon
        themeIcons[currentTheme].classList.add('active');
        
        // Update tooltip
        var themeNames = {
            dark: 'Theme: Dark',
            light: 'Theme: Light'
        };
        themeToggle.title = themeNames[currentTheme];
    }
    
    // Theme toggle click handler - only toggle between dark and light
    function toggleTheme() {
        currentTheme = currentTheme === 'dark' ? 'light' : 'dark';
        
        applyTheme(currentTheme);
        updateThemeToggle();
        
        // Reassign colors for new theme and re-render table
        if (tutorials.length > 0) {
            assignCategoryColors();
            renderTable();
            setTimeout(addPreviewListeners, 100);
        }
        
        // Save preference
        localStorage.setItem('theme-preference', currentTheme);
    }
    
    themeToggle.addEventListener("click", toggleTheme);
    
    // Initialize theme - always start with system preference on page load
    currentTheme = getSystemTheme();
    applyTheme(currentTheme);
    updateThemeToggle();
    
    // Real-time system theme change detection - updates without page reload
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function(e) {
        // Automatically detect and apply system theme changes
        currentTheme = getSystemTheme();
        applyTheme(currentTheme);
        updateThemeToggle();
        
        // Reassign colors for new theme and re-render table
        if (tutorials.length > 0) {
            assignCategoryColors();
            renderTable();
            setTimeout(addPreviewListeners, 100);
        }
        
        // Optional: Clear any saved manual preference since we're following system
        localStorage.removeItem('theme-preference');
    });
    
    // About modal functionality
    const aboutBtn = document.getElementById("aboutBtn");
    const aboutModal = document.getElementById("aboutModal");
    const aboutModalClose = document.getElementById("aboutModalClose");
    
    aboutBtn.addEventListener("click", () => {
        aboutModal.classList.add("visible");
        document.body.style.overflow = "hidden"; // Prevent background scrolling
    });
    
    function closeAboutModal() {
        aboutModal.classList.remove("visible");
        document.body.style.overflow = ""; // Restore scrolling
    }
    
    aboutModalClose.addEventListener("click", closeAboutModal);
    
    // Close modal when clicking outside
    aboutModal.addEventListener("click", (e) => {
        if (e.target === aboutModal) {
            closeAboutModal();
        }
    });
    
    // Close modal with Escape key
    document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && aboutModal.classList.contains("visible")) {
            closeAboutModal();
        }
    });
    
    // Category filter functionality
    const categoryFilterIcon = document.getElementById("categoryFilter");
    const categoryFilterDropdown = document.getElementById("categoryFilterDropdown");
    let filterDropdownVisible = false;
    
    categoryFilterIcon.addEventListener("click", (e) => {
        e.preventDefault();
        e.stopPropagation();
        
        if (filterDropdownVisible) {
            hideCategoryFilter();
        } else {
            showCategoryFilter(e);
        }
    });
    
    function showCategoryFilter(e) {
        const categories = [...new Set(tutorials.map(t => t.category))].sort();
        let dropdownContent = `<div class="filter-option ${currentCategoryFilter === '' ? 'active' : ''}" data-category="">All Categories</div>`;
        
        categories.forEach(cat => {
            dropdownContent += `<div class="filter-option ${currentCategoryFilter === cat ? 'active' : ''}" data-category="${cat}">${cat}</div>`;
        });
        
        categoryFilterDropdown.innerHTML = dropdownContent;
        
        // Position dropdown
        const rect = categoryFilterIcon.getBoundingClientRect();
        const container = document.querySelector('.container');
        const containerRect = container.getBoundingClientRect();
        
        categoryFilterDropdown.style.left = (rect.left - containerRect.left) + "px";
        categoryFilterDropdown.style.top = (rect.bottom - containerRect.top + 5) + "px";
        
        categoryFilterDropdown.classList.add("visible");
        categoryFilterIcon.classList.add("active");
        filterDropdownVisible = true;
        
        // Add click listeners to filter options
        categoryFilterDropdown.querySelectorAll('.filter-option').forEach(option => {
            option.addEventListener('click', (e) => {
                const category = e.target.getAttribute('data-category');
                currentCategoryFilter = category;
                renderTable();
                setTimeout(addPreviewListeners, 100);
                hideCategoryFilter();
            });
        });
    }
    
    function hideCategoryFilter() {
        categoryFilterDropdown.classList.remove("visible");
        categoryFilterIcon.classList.remove("active");
        filterDropdownVisible = false;
    }
    
    // Preview functionality
    const previewTooltip = document.getElementById("previewTooltip");
    let previewCache = new Map(); // Cache to avoid re-fetching same content
    let previewTimeout;
    let currentPreviewTarget = null;

    // Fix image paths in HTML content
    function fixImagePaths(htmlContent, filename) {
        const parser = new DOMParser();
        const doc = parser.parseFromString(htmlContent, 'text/html');
        
        // Find all img tags
        const images = doc.querySelectorAll('img');
        
        images.forEach(img => {
            const src = img.getAttribute('src');
            if (src && src.startsWith('../')) {
                // Convert relative path to absolute path
                // If notebook is in htmls/ and uses ../data/images/file.png
                // We need to resolve this to data/images/file.png
                const newSrc = src.replace('../', '');
                img.setAttribute('src', newSrc);
            }
        });
        
        return doc.documentElement.innerHTML;
    }

    // Extract Quest content from HTML content
    function extractQuestContent(htmlContent, filename) {
        // First, fix the image paths
        const fixedHtmlContent = fixImagePaths(htmlContent, filename);
        
        const parser = new DOMParser();
        const doc = parser.parseFromString(fixedHtmlContent, 'text/html');
        
        let questItems = [];
        let questImages = [];
        
        // Look for Quest section specifically - check multiple approaches
        let questContainer = null;
        
        // Method 1: Look in standard headings
        const headings = doc.querySelectorAll('h1, h2, h3, h4, h5, h6');
        for (let heading of headings) {
            const text = heading.textContent || heading.innerText || '';
            // Clean text by removing pilcrow and other common characters
            const cleanText = text.trim().toUpperCase().replace(/¶/g, '').replace(/:/g, '');
            
            if (cleanText === 'QUEST') {
                // Try multiple approaches to find content
                // Approach 1: Next sibling
                let nextElement = heading.nextElementSibling;
                while (nextElement && nextElement.textContent.trim().length === 0) {
                    nextElement = nextElement.nextElementSibling;
                }
                
                if (nextElement && nextElement.textContent.trim().length > 0) {
                    questContainer = nextElement;
                    break;
                }
                
                // Approach 2: Look at parent and get all content after this heading
                let parent = heading.parentElement;
                if (parent) {
                    let foundHeading = false;
                    let contentElements = [];
                    
                    for (let child of parent.children) {
                        if (child === heading) {
                            foundHeading = true;
                            continue;
                        }
                        if (foundHeading) {
                            // Stop if we hit another heading
                            if (child.tagName && child.tagName.match(/^H[1-6]$/)) {
                                break;
                            }
                            if (child.textContent.trim().length > 0) {
                                contentElements.push(child);
                            }
                        }
                    }
                    
                    if (contentElements.length > 0) {
                        // Create a wrapper div with all the content
                        questContainer = doc.createElement('div');
                        contentElements.forEach(el => questContainer.appendChild(el.cloneNode(true)));
                        break;
                    }
                }
            }
        }
        
        // Method 2: Look for any element that contains "QUEST" as a heading-like element
        if (!questContainer) {
            const allElements = doc.querySelectorAll('*');
            for (let element of allElements) {
                const text = element.textContent || element.innerText || '';
                const cleanText = text.trim().toUpperCase().replace(/¶/g, '').replace(/:/g, '');
                
                // Check if this element only contains "QUEST" (likely a heading)
                if (cleanText === 'QUEST' && text.length < 20) {
                    let nextElement = element.nextElementSibling;
                    while (nextElement && nextElement.textContent.trim().length === 0) {
                        nextElement = nextElement.nextElementSibling;
                    }
                    
                    if (nextElement && nextElement.textContent.trim().length > 0) {
                        questContainer = nextElement;
                        break;
                    }
                }
            }
        }
        
        // If Quest section found, extract its content
        if (questContainer) {
            // Look for list items first
            const listItems = questContainer.querySelectorAll('li');
            
            if (listItems.length > 0) {
                listItems.forEach((item, index) => {
                    const itemText = (item.textContent || item.innerText || '').trim();
                    if (itemText && itemText.length > 5) {
                        questItems.push(itemText);
                    }
                });
            } else {
                // If no list items, look for paragraphs
                const paragraphs = questContainer.querySelectorAll('p');
                
                if (paragraphs.length > 0) {
                    paragraphs.forEach((p, index) => {
                        const pText = (p.textContent || p.innerText || '').trim();
                        if (pText && pText.length > 10 && pText.length < 500) {
                            questItems.push(pText);
                        }
                    });
                } else {
                    // Fallback: try to split the container text directly
                    const allText = questContainer.textContent || questContainer.innerText || '';
                    
                    // Try multiple approaches to split the content
                    
                    // Method 1: Split by numbered items (1. 2. 3. etc) - more flexible regex
                    let numberedItems = allText.split(/(?=\d+\.\s+[A-Z])/);
                    
                    // If first method didn't work well, try a different approach
                    if (numberedItems.length <= 2) {
                        // Method 2: Split by line breaks and filter for numbered items
                        const lines = allText.split(/\r?\n/).filter(line => line.trim().length > 0);
                        numberedItems = lines.filter(line => /^\d+\.\s+/.test(line.trim()));
                        
                        // Method 3: If still no good results, split by periods followed by numbers
                        if (numberedItems.length === 0) {
                            // Look for patterns like "...text. 1. Next item 2. Another item"
                            const matches = allText.match(/\d+\.\s+[^.]*?(?=\d+\.|$)/g);
                            if (matches && matches.length > 0) {
                                numberedItems = matches;
                            }
                        }
                    }
                    
                    // Add the items to questItems
                    numberedItems.forEach((item, index) => {
                        const cleanItem = item.replace(/^\d+\.\s*/, '').trim();
                        if (cleanItem.length > 5) { // Lower threshold
                            questItems.push(cleanItem);
                        }
                    });
                    
                    // If we still didn't get good results, try to extract sentences that look like questions/objectives
                    if (questItems.length === 0) {
                        const sentences = allText.split(/[.!?]+/).filter(s => s.trim().length > 10);
                        
                        sentences.forEach((sentence, index) => {
                            const cleanSentence = sentence.trim();
                            // Look for sentences that contain question words or seem like objectives
                            if (cleanSentence.length > 15 && (
                                cleanSentence.includes('What ') || 
                                cleanSentence.includes('How ') || 
                                cleanSentence.includes('To ') || 
                                cleanSentence.includes('Which ') ||
                                cleanSentence.includes('?')
                            )) {
                                questItems.push(cleanSentence);
                            }
                        });
                    }
                }
            }
            
            // Extract images from quest section
            const images = questContainer.querySelectorAll('img');
            images.forEach(img => {
                const src = img.getAttribute('src');
                if (src) {
                    const fixedSrc = src.startsWith('../') ? src.replace('../', '') : src;
                    questImages.push({
                        src: fixedSrc,
                        alt: img.getAttribute('alt') || 'Quest image',
                        title: img.getAttribute('title') || ''
                    });
                }
            });
        }
        
        return { 
            items: questItems,
            images: questImages,
            found: questContainer !== null
        };
    }

    // Show preview tooltip
    async function showPreview(element, filename) {
        currentPreviewTarget = element;
        
        // Position tooltip near the element
        const rect = element.getBoundingClientRect();
        const container = document.querySelector('.container');
        const containerRect = container.getBoundingClientRect();
        
        previewTooltip.style.left = (rect.left - containerRect.left) + "px";
        previewTooltip.style.top = (rect.bottom - containerRect.top + 10) + "px";
        
        // Show loading state
        previewTooltip.innerHTML = `
            <div class="preview-title">
                <span class="quest-icon">🎯</span>
                ${element.textContent}
            </div>
            <div class="loading">Loading quest preview...</div>
        `;
        previewTooltip.classList.add("visible");
        
        // Check cache first
        if (previewCache.has(filename)) {
            const cached = previewCache.get(filename);
            displayQuestPreview(element.textContent, cached);
            return;
        }
        
        try {
            // Fetch the HTML file
            const response = await fetch(`htmls/${filename}`);
            if (!response.ok) throw new Error('Failed to load');
            
            const htmlContent = await response.text();
            const questContent = extractQuestContent(htmlContent, filename);
            
            // Cache the result
            previewCache.set(filename, questContent);
            
            // Only show if we're still hovering the same element
            if (currentPreviewTarget === element) {
                displayQuestPreview(element.textContent, questContent);
            }
            
        } catch (error) {
            if (currentPreviewTarget === element) {
                previewTooltip.innerHTML = `
                    <div class="preview-title">
                        <span class="quest-icon">🎯</span>
                        ${element.textContent}
                    </div>
                    <div class="error">Quest preview not available</div>
                `;
            }
        }
    }

    function displayQuestPreview(title, questContent) {
        let html = `
            <div class="preview-title">
                ${title}
            </div>
        `;
        
        if (!questContent.found) {
            html += `<div class="error">Quest preview not available</div>`;
        } else if (questContent.items && questContent.items.length > 0) {
            html += '<div class="quest-section">';
            
            questContent.items.forEach((item, index) => {
                // Clean up the item text
                const cleanItem = item.replace(/^\d+\.?\s*/, '').trim();
                html += `<div style="margin: 8px 0; color: var(--text-color);">${index + 1}. ${cleanItem}</div>`;
            });
            
            html += '</div>';
            
            // Add images if available
            if (questContent.images && questContent.images.length > 0) {
                html += '<div style="margin-top: 12px;">';
                questContent.images.forEach(image => {
                    html += `<img src="${image.src}" alt="${image.alt}" title="${image.title}" style="max-width: 100%; height: auto; max-height: 150px; border-radius: 4px; margin: 4px 0;">`;
                });
                html += '</div>';
            }
        } else {
            html += `<div class="error">No quest content found</div>`;
        }
        
        previewTooltip.innerHTML = html;
    }

    function hidePreview() {
        previewTooltip.classList.remove("visible");
        currentPreviewTarget = null;
    }

    // Add event listeners to topic links
    function addPreviewListeners() {
        const topicLinks = document.querySelectorAll('#tutorialTable a');
        
        topicLinks.forEach(link => {
            const filename = link.getAttribute('href').replace('htmls/', '');
            
            link.addEventListener('mouseenter', () => {
                clearTimeout(previewTimeout);
                previewTimeout = setTimeout(() => {
                    showPreview(link, filename);
                }, 500); // 500ms delay before showing preview
            });
            
            link.addEventListener('mouseleave', () => {
                clearTimeout(previewTimeout);
                previewTimeout = setTimeout(() => {
                    hidePreview();
                }, 200); // 200ms delay before hiding
            });
        });
    }

    // Keep preview visible when hovering over it
    previewTooltip.addEventListener('mouseenter', () => {
        clearTimeout(previewTimeout);
    });

    previewTooltip.addEventListener('mouseleave', () => {
        hidePreview();
    });
    
    document.addEventListener("click", (e) => {
        if (!categoryFilterIcon.contains(e.target) && !categoryFilterDropdown.contains(e.target)) {
            hideCategoryFilter();
        }
    });
    
    fetch('tutorials.csv')
    .then(response => response.text())
    .then(data => {
        const parsed = Papa.parse(data, {
            header: true,
            skipEmptyLines: true
        });
        
        tutorials = parsed.data.map(row => ({
            category: row.category || '',
            topic: row.topic || '',
            keywords: row.keywords || '',
            filename: row.html || ''
        }));
        
        // Assign colors to categories dynamically
        assignCategoryColors();
        
        renderTable();
        
        // Add preview listeners after rendering table
        setTimeout(addPreviewListeners, 100);
    });
    
    function renderTable() {
        const searchQuery = searchBox.value.toLowerCase();
        const tableBody = document.querySelector('#tutorialTable tbody');
        const noResultsDiv = document.getElementById('noResults');
        const table = document.getElementById('tutorialTable');
        
        tableBody.innerHTML = '';
        
        const filteredTutorials = tutorials.filter(t =>
            (!currentCategoryFilter || t.category.toLowerCase() === currentCategoryFilter.toLowerCase()) &&
            (!searchQuery || (t.topic + ' ' + t.keywords).toLowerCase().includes(searchQuery))
        );
        
        if (filteredTutorials.length === 0) {
            // Show no results message
            table.style.display = 'none';
            noResultsDiv.style.display = 'block';
            
            // Update request link
            const requestLink = document.getElementById('requestTopicLink');
            const searchValue = searchQuery.trim();
            const capitalizedValue = searchValue.charAt(0).toUpperCase() + searchValue.slice(1);
            
            requestLink.onclick = function(e) {
                e.preventDefault();
                const baseUrl = "https://github.com/meluron-codecafe/DevQuest/issues/new";
                const params = new URLSearchParams({
                    assignees: "ankit0anand0",
                    labels: "tutorials",
                    projects: "",
                    template: "",
                    title: searchValue ? `[TUTORIAL REQUEST] ${capitalizedValue}` : "[TUTORIAL REQUEST]"
                });
                window.open(`${baseUrl}?${params.toString()}`, "_blank");
            };
        } else {
            // Show table with results
            table.style.display = 'table';
            noResultsDiv.style.display = 'none';
            
            filteredTutorials.forEach(t => {
                const tr = document.createElement('tr');
                const color = categoryColorMap[t.category] || "#ddd"; // fallback color
                tr.innerHTML = `
                <td class="category" style="color: ${color};">
                    ${t.category}
                </td>
                <td><a href="htmls/${t.filename}" target="_blank">${t.topic}</a></td>
                <td>${t.keywords || '-'}</td>
            `;
                tableBody.appendChild(tr);
            });
        }
    }
    
    // Initialize search input listener after elements are available
    function initializeSearchInput() {
        if (searchBox) {
            searchBox.addEventListener('input', () => {
                renderTable();
                setTimeout(addPreviewListeners, 100);
            });
        }
    }
    
    // Call this after search is initialized
    setTimeout(initializeSearchInput, 100);
</script>

</body>
</html>